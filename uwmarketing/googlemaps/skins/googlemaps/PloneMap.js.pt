<tal:block define="_dummy python:request.response.setHeader('content-type','text/javascript;;charset=utf-8')" />
<metal:block i18n:domain="uwmarketing.googlemaps">
/**
 * A Marker with the established settings and event bindings.
 *
 * @param {google.maps.Map} map The map on which to attach the distance widget.
 *
 * @constructor
 */

var PloneMap = PloneMap || {} ;

PloneMap.prototype = new google.maps.MVCObject();

PloneMap.prototype.SITE_URL = '<tal:block tal:replace="context/absolute_url"/>';

PloneMap.prototype.CURRENT_URL = '<tal:block tal:replace="context/absolute_url"/>';

PloneMap.init = function ( ) {

    document.getElementById( 'googleMapPane' ).style.height = 475 + 'px';

    var map = new PloneMap.Map( document.getElementById( 'googleMapPane' ) );
    

    for (var i = 0, l = PloneMapMarkers.length; i < PloneMapMarkers.length; i++) {

        var marker = PloneMapMarkers[ i ];

        var plonemarker = new PloneMap.Marker( marker.type , marker.options );

    };
    
}

google.maps.event.addDomListener(window, 'load', PloneMap.init);

</metal:block>
